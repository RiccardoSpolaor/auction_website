<div class="container" style="width: 400px; margin-top: 20px;" >

    <form class="form-signin"  >
      
      <div class="text-center">  
        <i class="fas fa-envelope loginlogo"></i>
        <h1 class="h3 mb-3 font-weight-normal">Edit Profile</h1>
      </div>
    
      <div class="form-group">
        <label for="inputEmail">Email address</label>
        <input type="email" #mail="ngModel" name="mail" [(ngModel)]="user.mail" pattern="[^@\s]+@[^@\s]+\.[^@\s]+" class="form-control" [required]= "getToken().mod && !getToken().validated" id="inputEmail" aria-describedby="emailHelp" placeholder="Enter email">
      </div>
    
      <div [hidden]="mail.valid || mail.pristine"
          class="alert alert-danger">
        Mail is not valid
      </div>
      
      <div class="form-group">
        <label for="inputUsername">Username</label>
        <input type="text" #username="ngModel" [required]= "getToken().mod && !getToken().validated" name="username" [(ngModel)]="user.username" class="form-control" id="inputUsername" placeholder="Enter username">
      </div>
    
      <div [hidden]="username.valid || username.pristine"
          class="alert alert-danger">
        Username is required
      </div>

      <div class="form-group">
        <label for="inputPassword">Password</label>
        <input type="password" #password="ngModel" [required]= "getToken().mod && !getToken().validated" name="password" [(ngModel)]="user.password" class="form-control" id="inputPassword" placeholder="Password">
      </div>
    
      <div [hidden]="password.valid || password.pristine"
          class="alert alert-danger">
        Password is required
      </div>

      <div class="form-group">
        <label for="inputName">Name</label>
        <input type="text" #name="ngModel" [required]= "getToken().mod && !getToken().validated" name="name" [(ngModel)]="user.name" class="form-control" id="inputName" placeholder="Enter name">
      </div>
    
      <div [hidden]="name.valid || name.pristine"
          class="alert alert-danger">
        Name is required
      </div>

      <div class="form-group">
        <label for="inputSurname">Surname</label>
        <input type="text" #surname="ngModel" [required]= "getToken().mod && !getToken().validated" name="surname" [(ngModel)]="user.surname" class="form-control" id="inputSurname" placeholder="Enter surname">
      </div>
    
      <div [hidden]="surname.valid || surname.pristine"
          class="alert alert-danger">
        Surname is required
      </div>

      <div class="form-group">
        <label for="inputLocation">Location</label>
        <input type="text" #location="ngModel" [required]= "getToken().mod && !getToken().validated" name="location" [(ngModel)]="user.location" class="form-control" id="inputLocation" placeholder="Enter location">
      </div>
    
      <div [hidden]="location.valid || location.pristine"
          class="alert alert-danger">
        Location is required
      </div>  
    
      <div *ngIf="errmessage" class="alert alert-danger" role="alert">
        Edit Error: {{errmessage}}
      </div>
    
      <button class="btn btn-lg btn-primary btn-block" [disabled]="getToken().mod && !getToken().validated && (!mail.valid || !password.valid || !username.valid || !name.valid || !surname.valid || !location.valid)" (click)="edit();">Edit</button>
    </form>
    </div>
